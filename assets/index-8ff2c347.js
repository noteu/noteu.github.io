import{k as h,m as c,r as l,f as g,g as f,h as j,i as b,j as e,N as y,P as N,F as w,T as k,L as m}from"./index-3a462e11.js";import{C as L}from"./CheckInput-20c632dc.js";import{P as S}from"./PasswordInput-27b7ba44.js";import{A as v}from"./AccountWrapper2-90b1ed97.js";import{a as C}from"./auth-a940a39c.js";import{S as P}from"./SocialLogin-bbd3cf15.js";import{u as d}from"./useTranslation-39ff952a.js";import{B as A}from"./Button-c7c76d56.js";import"./InputGroup-85468536.js";import"./InputGroupContext-5be72602.js";import"./logo-dark-f86ae8c1.js";const E=h({email:c().email("Please enter valid email").required("Please enter email"),password:c().required("Please enter password")});function F(){const[t,o]=l.useState(!1),s=g(),r=f(),{isAuthenticated:n,saveSession:u}=j(),{showNotification:p}=b(),i=l.useMemo(()=>s.state&&s.state.from?s.state.from.pathname:"/",[s.state]);return{loading:t,login:async x=>{o(!0);try{const a=await C.login(x);a.data.token&&(u({...a.data??{},token:a.data.token}),r(i))}catch(a){p({message:a.toString(),type:"error"})}finally{o(!1)}},redirectUrl:i,isAuthenticated:n}}const I=()=>{const{t}=d();return e.jsx("footer",{className:"footer footer-alt",children:e.jsxs("p",{className:"text-muted",children:[t("Don't have an account?"),e.jsx(m,{to:"/account/register2",className:"text-muted ms-1",children:e.jsx("b",{children:t("Sign Up")})})]})})},G=()=>{const{t}=d(),{loading:o,login:s,redirectUrl:r,isAuthenticated:n}=F();return e.jsxs(e.Fragment,{children:[n&&e.jsx(y,{to:r,replace:!0}),e.jsx(N,{title:"Login"}),e.jsxs(v,{bottomLinks:e.jsx(I,{}),children:[e.jsx("h4",{className:"mt-0",children:t("Sign In")}),e.jsx("p",{className:"text-muted mb-4",children:t("Enter your email address and password to access account.")}),e.jsxs(w,{onSubmit:s,schema:E,defaultValues:{email:"hyper@coderthemes.com",password:"Hyper"},children:[e.jsx(k,{label:t("Email Address"),type:"email",name:"email",placeholder:t("Enter your email"),containerClass:"mb-3"}),e.jsx(S,{label:t("Password"),name:"password",placeholder:t("Enter your password"),containerClass:"mb-3",children:e.jsx(m,{to:"/account/forget-password2",className:"text-muted float-end",children:e.jsx("small",{children:t("Forgot your password?")})})}),e.jsx(L,{name:"checkbox-signin",type:"checkbox",label:"Remeber me",containerClass:"mb-3",defaultChecked:!0}),e.jsx("div",{className:"d-grid mb-0 text-center",children:e.jsxs(A,{variant:"primary",type:"submit",disabled:o,children:[e.jsx("i",{className:"mdi mdi-login"})," ",t("Log In")]})}),e.jsx(P,{})]})]})]})};export{G as default};
