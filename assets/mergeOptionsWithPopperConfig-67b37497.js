import{aq as k,r as l,ar as E,as as R,at as I,au as x,av as W,aw as D,ax as z,ay as K,az as P,aA as T,ab as j,W as L,Y as B,Z as M}from"./index-3a462e11.js";var S=Object.prototype.hasOwnProperty;function C(e,t,n){for(n of e.keys())if(O(n,t))return n}function O(e,t){var n,r,i;if(e===t)return!0;if(e&&t&&(n=e.constructor)===t.constructor){if(n===Date)return e.getTime()===t.getTime();if(n===RegExp)return e.toString()===t.toString();if(n===Array){if((r=e.length)===t.length)for(;r--&&O(e[r],t[r]););return r===-1}if(n===Set){if(e.size!==t.size)return!1;for(r of e)if(i=r,i&&typeof i=="object"&&(i=C(t,i),!i)||!t.has(i))return!1;return!0}if(n===Map){if(e.size!==t.size)return!1;for(r of e)if(i=r[0],i&&typeof i=="object"&&(i=C(t,i),!i)||!O(r[1],t.get(i)))return!1;return!0}if(n===ArrayBuffer)e=new Uint8Array(e),t=new Uint8Array(t);else if(n===DataView){if((r=e.byteLength)===t.byteLength)for(;r--&&e.getInt8(r)===t.getInt8(r););return r===-1}if(ArrayBuffer.isView(e)){if((r=e.byteLength)===t.byteLength)for(;r--&&e[r]===t[r];);return r===-1}if(!n||typeof e=="object"){r=0;for(n in e)if(S.call(e,n)&&++r&&!S.call(t,n)||!(n in t)||!O(e[n],t[n]))return!1;return Object.keys(t).length===r}}return e!==e&&t!==t}function U(e){const t=k();return[e[0],l.useCallback(n=>{if(t())return e[1](n)},[t,e[1]])]}const q=E({defaultModifiers:[R,I,x,W,D,z,K,P]}),V=["enabled","placement","strategy","modifiers"];function F(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,u;for(u=0;u<r.length;u++)i=r[u],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}const Y={name:"applyStyles",enabled:!1,phase:"afterWrite",fn:()=>{}},G={name:"ariaDescribedBy",enabled:!0,phase:"afterWrite",effect:({state:e})=>()=>{const{reference:t,popper:n}=e.elements;if("removeAttribute"in t){const r=(t.getAttribute("aria-describedby")||"").split(",").filter(i=>i.trim()!==n.id);r.length?t.setAttribute("aria-describedby",r.join(",")):t.removeAttribute("aria-describedby")}},fn:({state:e})=>{var t;const{popper:n,reference:r}=e.elements,i=(t=n.getAttribute("role"))==null?void 0:t.toLowerCase();if(n.id&&i==="tooltip"&&"setAttribute"in r){const u=r.getAttribute("aria-describedby");if(u&&u.split(",").indexOf(n.id)!==-1)return;r.setAttribute("aria-describedby",u?`${u},${n.id}`:n.id)}}},H=[];function ee(e,t,n={}){let{enabled:r=!0,placement:i="bottom",strategy:u="absolute",modifiers:d=H}=n,b=F(n,V);const p=l.useRef(d),s=l.useRef(),a=l.useCallback(()=>{var c;(c=s.current)==null||c.update()},[]),f=l.useCallback(()=>{var c;(c=s.current)==null||c.forceUpdate()},[]),[g,v]=U(l.useState({placement:i,update:a,forceUpdate:f,attributes:{},styles:{popper:{},arrow:{}}})),o=l.useMemo(()=>({name:"updateStateModifier",enabled:!0,phase:"write",requires:["computeStyles"],fn:({state:c})=>{const w={},y={};Object.keys(c.elements).forEach(h=>{w[h]=c.styles[h],y[h]=c.attributes[h]}),v({state:c,styles:w,attributes:y,update:a,forceUpdate:f,placement:c.placement})}}),[a,f,v]),m=l.useMemo(()=>(O(p.current,d)||(p.current=d),p.current),[d]);return l.useEffect(()=>{!s.current||!r||s.current.setOptions({placement:i,strategy:u,modifiers:[...m,o,Y]})},[u,i,o,r,m]),l.useEffect(()=>{if(!(!r||e==null||t==null))return s.current=q(e,t,Object.assign({},b,{placement:i,strategy:u,modifiers:[...m,G,o]})),()=>{s.current!=null&&(s.current.destroy(),s.current=void 0,v(c=>Object.assign({},c,{attributes:{},styles:{popper:{}}})))}},[r,e,t]),g}const _=()=>{};function Z(e){return e.button===0}function J(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}const A=e=>e&&("current"in e?e.current:e),$={click:"mousedown",mouseup:"mousedown",pointerup:"pointerdown"};function te(e,t=_,{disabled:n,clickTrigger:r="click"}={}){const i=l.useRef(!1),u=l.useRef(!1),d=l.useCallback(s=>{const a=A(e);T(!!a,"ClickOutside captured a close event but does not have a ref to compare it to. useClickOutside(), should be passed a ref that resolves to a DOM node"),i.current=!a||J(s)||!Z(s)||!!j(a,s.target)||u.current,u.current=!1},[e]),b=L(s=>{const a=A(e);a&&j(a,s.target)&&(u.current=!0)}),p=L(s=>{i.current||t(s)});l.useEffect(()=>{var s,a;if(n||e==null)return;const f=B(A(e)),g=f.defaultView||window;let v=(s=g.event)!=null?s:(a=g.parent)==null?void 0:a.event,o=null;$[r]&&(o=M(f,$[r],b,!0));const m=M(f,r,d,!0),c=M(f,r,y=>{if(y===v){v=void 0;return}p(y)});let w=[];return"ontouchstart"in f.documentElement&&(w=[].slice.call(f.body.children).map(y=>M(y,"mousemove",_))),()=>{o==null||o(),m(),c(),w.forEach(y=>y())}},[e,n,r,d,b,p])}function N(e){const t={};return Array.isArray(e)?(e==null||e.forEach(n=>{t[n.name]=n}),t):e||t}function Q(e={}){return Array.isArray(e)?e:Object.keys(e).map(t=>(e[t].name=t,e[t]))}function re({enabled:e,enableEvents:t,placement:n,flip:r,offset:i,fixed:u,containerPadding:d,arrowElement:b,popperConfig:p={}}){var s,a,f,g,v;const o=N(p.modifiers);return Object.assign({},p,{placement:n,enabled:e,strategy:u?"fixed":p.strategy,modifiers:Q(Object.assign({},o,{eventListeners:{enabled:t,options:(s=o.eventListeners)==null?void 0:s.options},preventOverflow:Object.assign({},o.preventOverflow,{options:d?Object.assign({padding:d},(a=o.preventOverflow)==null?void 0:a.options):(f=o.preventOverflow)==null?void 0:f.options}),offset:{options:Object.assign({offset:i},(g=o.offset)==null?void 0:g.options)},arrow:Object.assign({},o.arrow,{enabled:!!b,options:Object.assign({},(v=o.arrow)==null?void 0:v.options,{element:b})}),flip:Object.assign({enabled:!!r},o.flip)}))})}export{ee as a,A as g,re as m,te as u};
